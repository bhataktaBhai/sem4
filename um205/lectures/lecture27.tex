\lecture{2024-03-15}{}
\begin{proposition}
    If $R_1, \dots, R_n$ are rings,
    then $S = R_1 \times \dots \times R_n$ is also a ring
    under componentwise addition and multiplication.
\end{proposition}
\begin{proof}
    Zero is $(0, \dots, 0)$ and one is $(1, \dots, 1)$.
    Inverses are also componentwise.
    Everything else works componentwise.
\end{proof}

\begin{exercise}
    $u = (u_1, \dots, u_n)$ is a unit in $S$ iff each $u_i$ is a unit in $R_i$.
\end{exercise}

\begin{theorem}
    If $m = m_1 \dots m_k$ and $(m_i, m_j) = 1$ for all $i < j$,
    then \[
        \Z/m\Z \cong \Z/m_1\Z \times \dots \times \Z/m_k\Z.
    \] That is, they are isomorphic as rings.
\end{theorem}
\begin{proof}
    Define $\psi_i\colon \Z \to \Z/m_i\Z$ as $\psi_i(a) = a \bmod m_i$.
    Define $\psi = (\psi_1, \dots, \psi_k)$.

    By the Chinese Remainder Theorem, $\psi(n) = (b_1, \dots, b_k)$ always
    has a solution, so $\psi$ is surjective.

    If $\psi(n) = 0$, then $n \equiv 0 \pmod{m_i}$ for all $i$,
    so $n \equiv 0 \pmod{m}$.
    Thus $\psi$ can be restricted to $\Z/m\Z$ in a natural way, and is then
    a bijection since its domain and codomain have the same size.

    It is easy to check that $\psi$ respects addition and multiplication.
\end{proof}
\begin{corollary}
    \[
        U(\Z/m\Z) \cong U(\Z/m_1\Z) \times \dots \times U(\Z/m_k\Z).
    \]
\end{corollary}
Thus we can restrict our attention to the study of
$U(\Z/p^n\Z)$ for $p$ prime.

\begin{lemma}
    Let $k$ be a field and $f \in k[x]$ with $\deg f = n$.
    Then $f$ has at most $n$ distinct roots in $k$.
\end{lemma}
\begin{proof}
    Induction.
    Trivial for $n = 1$.

    If $f$ has no roots in $k$, we are done.
    Otherwise, let $\alpha$ be a root of $f$.
    Divide $f$ by $(x - \alpha)$ to get $f(x) = (x - \alpha)q(x) + r$.
    $r$ has degree less than $(x - a)$, so $r$ is a constant and hence $0$.

    Thus $f(x) = (x - \alpha)q(x)$ where $q$ has degree $n - 1$.
    Suppose $\beta \ne \alpha$ is a root of $f$.
    Then $0 = f(\beta) = (\beta - \alpha)q(\beta)$,
    so $\beta$ is a root of $q$.

    But by the induction hypothesis, $q$ has at most $n - 1$ roots,
    so $f$ has at most $n$ roots.
    Winduction.
\end{proof}

\begin{remark}
    If $k$ is not a field, this need not hold.
    For example, let $k = \Z/4\Z$ and let $f(x) = 2x(x+1)$.
    Then $0, 1, 2, 3$ are all roots of $f$.

    What's wrong? $\Z/4\Z$ has zero divisors.
    In fact, the above lemma can be generalized to any integral domain.
\end{remark}

\begin{corollary}
    Let $f, g \in k[x]$ with $\deg f = \deg g = n$.
    If $f$ and $g$ agree at $n + 1$ points, then $f = g$.
\end{corollary}
\begin{proof}
    Take the difference.
    This has degree at most $n$ but has $n + 1$ roots,
    so it is the zero polynomial.
\end{proof}

\begin{proposition}
    For any prime $p$, \[
        x^{p-1} - 1 \equiv (x - 1)(x - 2) \dots (x - (p-1)) \pmod{p}
    \] for all $x$.
\end{proposition}
\begin{proof}
    View this polynomial over the field $\Z/p\Z$.
    Let $f$ be the difference of the two sides, \[
        f(x) = x^{p-1} - 1 - (x - 1)(x - 2) \dots (x - (p-1)).
    \] Note that the $x^{p-1}$ term cancels out, so $\deg f \le p - 2$.

    By Fermat's little theorem, $x^{p-1} = 1$ for all $x \ne 0$.
    Thus $f(x) = 0$ for all $x \ne 0$.
    Thus $f$ has at least $p - 1$ roots, so it must be the zero polynomial.
\end{proof}

\begin{corollary}[Wilson's theorem] \label{thm:wilson}
    If $p$ is prime, then \[
        (p-1)! \equiv -1 \pmod{p}.
    \]
\end{corollary}
\begin{proof}
    Set $x = 0$ in the above proposition.
    $p = 2$ is verified by hand.
    Every other prime is odd, so the powers of $-1$ on the RHS cancel out.
\end{proof}

\begin{proposition} \label{thm:x^d-1}
    If $p$ is prime and $d \mid p - 1$, then $x^d \equiv 1 \pmod p$
    has $d$ solutions.
\end{proposition}
\begin{proof}
    Let $d' = (p - 1)/d$.
    Then \begin{align*}
        \frac{x^{p-1} - 1}{x^d - 1}
        &= \frac{(x^d)^{d'} - 1}{x^d - 1} \\
        &= 1 + x^d + \dots + (x^d)^{d' - 1} \\
        \implies x^{p-1} - 1 &= (x^d - 1) g(x)
    \end{align*} where $g(x)$ has degree $dd' - d = p - 1 - d$.
    By the previous proposition, $x^{p-1} - 1$ has $p - 1$ roots,
    so $x^d - 1$ has at least $d$ roots.
    Since $x^d - 1$ has degree $d$, it has exactly $d$ roots.
\end{proof}

\begin{definition}[Cyclic group] \label{def:group:cyclic}
    A group $H$ is said to be \emph{cyclic}
    if it is generated by a single element $x$, \ie, \[
        H = \set{x^n \mid n \in \Z}.
    \]
\end{definition}
\begin{examples}
    \item $(\Z, +)$ is cyclic, generated by $1$.
    \item $(\Z/n\Z, +)$ is cyclic, generated by $\wbar{1}$.
    \item $(\Z/4\Z, +)$ is generated by $\wbar{1}$ and $\wbar{3}$,
    but not by $\wbar{2}$, which only generates a subgroup.
\end{examples}

\begin{definition*}[Order of an element] \label{def:group:element-order}
    The \emph{order} of an element $x\in H$ is the smallest
    positive integer $n$ such that $x^n = 1$.
    If no such $n$ exists, we say that $x$ has \emph{infinite order}.
\end{definition*}
\begin{examples}
    \item In $(\Z, +)$, $1$ has infinite order.
    \item In $(\Z/4\Z, +)$, $\wbar{1}$ has order $4$
    but $\wbar{2}$ has order $2$.
\end{examples}

\begin{theorem*}[Gauss] \label{thm:group:gauss}
    If $p$ is prime, then $G = U(\Z/p\Z)$ is cyclic.
\end{theorem*}
\begin{proof}
    For a divisor $d \mid p - 1$, define $\psi(d)$
    to be the number of elements of order $d$ in $G$.

    By \cref{thm:x^d-1}, $x^d - 1$ has $d$ solutions in $\Z/p\Z[x]$.
    Thus there are $d$ elements whose $d$th power is $1$.
    Thus \[
        \sum_{c \mid d} \psi(c) = d.
    \] By M\"obius inversion, \[
        \sum_{c \mid d} \mu(c) \frac{d}{c} = \psi(d).
    \] By \cref{TODO}, \[
        \psi(d) = \phi(d).
    \] In particular, $\psi(p - 1) = \phi(p - 1)$.

    If $p = 2$, then $\abs{G} = 1$ makes the result trivial.
    If $p > 2$, then $\phi(p - 1) > 1$, so there exists an element with
    order $p - 1$.
    That element generates $G$.
\end{proof}
\begin{example}
    For $p = 5$, $U(\Z/p\Z) = \set{1, 2, 3, 4}$.
    Then \begin{align*}
        2^1 &\equiv 2 & 2^2 &\equiv 4 & 2^3 &\equiv 3 & 2^4 &\equiv 1 \\
        3^1 &\equiv 3 & 3^2 &\equiv 4 & 3^3 &\equiv 2 & 3^4 &\equiv 1 \\
        4^1 &\equiv 4 & 4^2 &\equiv 1.
    \end{align*} So the group is cyclic, with $\phi(5) = 2$ choices for
    the generator.
\end{example}
