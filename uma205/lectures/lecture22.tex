\lecture{22}{Fri 01 Mar '24}{}
\begin{definition}[Integral domain] \label{def:ring:integral_domain}
    An \emph{integral domain} is a commutative ring with no zero divisors.
\end{definition}
For integral domains, the cancellation law holds.
$ac = bc \land c \ne 0 \implies a = b$.
\begin{example}
    \Z, $k[x]$.
\end{example}

\begin{definition}[Euclidean domain] \label{def:ring:euclidean_domain}
    A \emph{Euclidean domain} is an integral domain $R$ together with
    a function $\lambda\colon R^* \to \N$ such that if
    $a, b \in R$ with $b \ne 0$, there exist $c, d \in R$ with
    $a = cb + d$, then either $d = 0$ or $\lambda(d) < \lambda(b)$.
\end{definition}

Recall that for $a_1, \dots, a_n \in R$, \[
    (a_1, \dots a_n)
        = \set{x_1 a_1 + \dots x_n a_n \mid x_1, \dots, x_n \in R}
\] is the ideal generated by $a_1, \dots, a_n$.
\begin{definition*}[Principal ideals] \label{def:principal_ideals}
    If an ideal $I$ can be written as $I = (a_1, \dots, a_n)$, we say $I$ is
    \emph{finitely generated}.
    If $I = (a)$, we say that $I$ is a \emph{principal ideal}.
    An integral domain is called a \emph{principal ideal domain} (PID)
    if all finitely generated ideals are principal.
\end{definition*}
\begin{example}
    \Z\ is a PID.
\end{example}

\begin{proposition}
    Every Euclidean domain is a principal ideal domain.
\end{proposition}
\begin{proof}
    Let $I$ be an ideal in a Euclidean domain $R$.
    Consider the set $\set{\lambda(b) \mid b \in I^*} \subseteq \N$.
    So there exists a minimal element $a \in I^*$ such that
    $\lambda(a) \le \lambda(b)$ for all $b \in I^*$.

    We claim that $I = (a) = Ra = \set{ra \mid r \in R}$.
    Since $a \in I$ and $I$ is an ideal, $Ra \subseteq I$.
    Let $b \in I$.
    Then there exist $q, r \in R$ such that $b = qa + r$ with $r = 0$ or
    $\lambda(r) < \lambda(a)$.
    But $r = b - qa \in I$.
    Since $\lambda(a)$ is minimal, $r = 0$, which gives $b = qa \in Ra$
    and $I \subseteq Ra$.
\end{proof}
The converse is false, but it is hard to find a counterexample.

\begin{definition}
    Let $R$ be a principal ideal domain.
    \begin{itemize}
        \item For $a \in R$, $b \in R^*$, we say that $a$ \emph{divides} $b$
        (denoted $a \mid b$) if $b = ac$ for some $c \in R$.
        In other words, $(b) \subseteq (a)$.
        \item An element $u \in R$ is called a \emph{unit} if $u \mid 1$.
        In other words, $(u) = R$.
        \item Two elements $a, b \in R$ are called \emph{associates}
        if $a = bu$ for some unit $u \in R$.
        In other words, $(a) = (b)$.
        \item A non-unit $p \in R$ is called a \emph{prime} if $p \ne 0$ and
        for all $a, b \in R$, $p \mid ab$ only if $p \mid a$ or $p \mid b$.
        In other words, if $ab \in (p)$, then $a \in (p)$ or $b \in (p)$.
    \end{itemize}
\end{definition}
\begin{exercise}
    Prove the ``in other words'' above.
\end{exercise}

\subsection{Unique factorization for PIDs}
\label{sec:pid:unique_factorization}
\begin{itemize}
    \item Show that the greatest common divisor of $a, b \in R$ exists
    and is unique up to associates, and $(a, b) = (d)$.
    \item We can find for every $a$ and $p$ prime, the \emph{order}
    $\ord_p(a)$, which satisfies $\ord_p(ab) = \ord_p(a) + \ord_p(b)$.
\end{itemize}
Let $S$ be a set of primes in $R$ satisfying
\begin{enumerate}
    \item every prime in $R$ is associate to some prime in $S$, and
    \item no two primes in $S$ are associates.
\end{enumerate}

\begin{theorem}[Unique factorization theorem]
\label{thm:pid:unique_factorization}
    Let $R$ be a principal ideal domain and $S$ be as above.
    Then for all $a \in R^*$, we can write \[
        a = u \prod_{p \in S} p^{e(p)}
    \] where $e(p) = \ord_p(a)$ and $u$ is a unit.
    Further, this is unique.
\end{theorem}
\begin{definition}[Unique factorization domain]
\label{def:pid:unique_factorization:domain}
    A domain $R$ for which unique factorization holds is called a
    \emph{unique factorization domain} (UFD).
\end{definition}
\begin{examples}
    \item \Z\ is a UFD.
    \item $k[x_1, \dots, x_n]$ is a UFD but not a PID.
    \item $\Z[\sqrt 3 i]$ is a ring.
    It is also an integral domain by virtue of being a subring of \C.
    $2, 1 \pm \sqrt 3 i$ are primes (absolute value $2$ is minimal).
    The only units are $\pm 1$, so no two are associates of each other.
    But $4 = 2 * 2 = (1 + \sqrt 3 i)(1 - \sqrt 3 i)$.
    Thus $\Z[\sqrt 3 i]$ is not a UFD.
    \item $\Z[\sqrt 7]$ has $6 = 2 * 3 = (\sqrt 7 + 1)(\sqrt 7 - 1)$.
    But $2$ and $3$ are not prime! (exercise)
    $\Z[\sqrt 7]$ does turn out to be a UFD.
\end{examples}

\begin{fact}[Gauss' conjecture] \label{thm:pid:unique_factorization:s}
    Let $d$ be a square-free positive integer.
    Consider $\Q[i \sqrt d]$.
    The subring of algebraic integers in it is a UFD iff $d$ is a
    \emph{Heegner} number.
    That is, \[
        d \in \set{1, 2, 3, 7, 11, 19, 43, 67, 163}.
    \]
\end{fact}
If $d = 1$, this subring is $\Z[i]$.
But if $d = 3$, it is $\Z[e^{i \pi/3}]$, not $\Z[i \sqrt 3]$.
